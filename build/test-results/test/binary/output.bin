Ã22:57:59.476 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [hifresh.CucumberIntegrationTest]: CucumberIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
«22:57:59.579 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration hifresh.Main for test class hifresh.CucumberIntegrationTest

)  .   ____          _            __ _ _
* /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
+( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
, \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
+  '  |____| .__|_| |_|_| |_\__, | / / / /
* =========|_|==============|___/=/_/_/_/
, :: Spring Boot ::                (v3.1.5)

Å2023-12-18T22:58:00.015+01:00  INFO 33232 --- [    Test worker] hifresh.CucumberIntegrationTest          : Starting CucumberIntegrationTest using Java 17 with PID 33232 (started by Dora Sperling in C:\Users\Dora Sperling\IdeaProjects\programming4\HiFresh)
∞2023-12-18T22:58:00.017+01:00  INFO 33232 --- [    Test worker] hifresh.CucumberIntegrationTest          : No active profile set, falling back to 1 default profile: "default"
π2023-12-18T22:58:00.648+01:00  INFO 33232 --- [    Test worker] hifresh.CucumberIntegrationTest          : Started CucumberIntegrationTest in 0.902 seconds (process running for 2.679)

·Scenario: Add recipe                                                                                                                                                                    [90m# hifresh/AddRecipe.feature:97[0m
ñ  [32mGiven [0m[32mrecipes[0m                                                                                                                                                                         [90m# hifresh.AddRecipeSteps.recipes(io.cucumber.datatable.DataTable)[0m
B    | recipe_id | recipe_name    | recipe_description           |
B    | 1         | pancakes       | Gorgeous pancakes            |
B    | 2         | Pizza          | Deep pan pizza               |
B    | 3         | Cheese Sauce   | Cheesy Sauce                 |
B    | 4         | Bechamel Sauce | Creamy Dreamy Bechamel Sauce |
ô  [32mGiven [0m[32msubrecipes[0m                                                                                                                                                                      [90m# hifresh.AddRecipeSteps.subrecipes(io.cucumber.datatable.DataTable)[0m
    | recipe_id | subrecipe |
    | 3         | 4         |
ó  [32mGiven [0m[32mproducts[0m                                                                                                                                                                        [90m# hifresh.AddRecipeSteps.products(io.cucumber.datatable.DataTable)[0m
4    | product_id | product_name       | unit      |
4    | 1          | flour              | GRAM      |
4    | 2          | milk               | MILILITRE |
4    | 3          | cheese             | GRAM      |
4    | 4          | self-raising flour | GRAM      |
4    | 5          | tomatoes           | GRAM      |
4    | 6          | beef mince         | GRAM      |
4    | 7          | spaghetti          | GRAM      |
4    | 8          | ham                | GRAM      |
ö  [32mGiven [0m[32mingredients[0m                                                                                                                                                                     [90m# hifresh.AddRecipeSteps.ingredients(io.cucumber.datatable.DataTable)[0m
F    | ingredient_id | product_id | recipe_id | quantity | unit      |
F    | 1             | 1          | 1         | 100      | GRAM      |
F    | 3             | 3          | 2         | 20       | GRAM      |
F    | 4             | 3          | 3         | 20       | GRAM      |
F    | 5             | 3          | 4         | 40       | GRAM      |
F    | 6             | 2          | 4         | 600      | MILILITRE |
î  [32mGiven [0m[32msteps[0m                                                                                                                                                                           [90m# hifresh.AddRecipeSteps.steps(io.cucumber.datatable.DataTable)[0m
O    | step_id | description                              | recipe_id | order |
O    | 1       | step 1                                   | 1         | 1     |
O    | 2       | step 2                                   | 1         | 2     |
O    | 3       | Add the cheese to the bechamel sauce     | 3         | 1     |
O    | 4       | Heat gently for 5 minutes                | 3         | 2     |
O    | 5       | Lookup online how to make bechamel sauce | 4         | 1     |
¢  [32mGiven [0m[32mdistributioncentres[0m                                                                                                                                                             [90m# hifresh.AddRecipeSteps.distributionCenters(io.cucumber.datatable.DataTable)[0m
8    | distributioncentre_id | distributioncentre_name |
8    | 1                     | DC1                     |
8    | 2                     | DC2                     |
ò  [32mGiven [0m[32mcontracts[0m                                                                                                                                                                       [90m# hifresh.AddRecipeSteps.contracts(io.cucumber.datatable.DataTable)[0m
G    | contract_id | product_id | supplier_id | distributioncentre_id |
G    | 1           | 1          | 1           | 1                     |
G    | 2           | 1          | 2           | 2                     |
G    | 3           | 2          | 1           | 1                     |
G    | 4           | 2          | 2           | 2                     |
G    | 5           | 3          | 1           | 1                     |
G    | 6           | 3          | 2           | 2                     |
ñ  [32mGiven [0m[32mclauses[0m                                                                                                                                                                         [90m# hifresh.AddRecipeSteps.clauses(io.cucumber.datatable.DataTable)[0m
^    | clause_id | contract_id | price   | maxQuantity | unit      | start_date | end_date   |
^    | 1         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 2         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 3         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 4         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 5         | 3           | 0.0015  | 100000      | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 6         | 4           | 0.00135 | 80000       | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 7         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 8         | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 9         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 10        | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 11        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 12        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 13        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 14        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 15        | 5           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 16        | 6           | 0.00135 | 100000      | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 17        | 5           | 0.0014  | 80000       | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 18        | 6           | 0.00145 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
π  [32mWhen [0m[32mI add recipe [0m[32m[1m5[0m[32m with name [0m[32m[1m"bolognese sauce"[0m                                                                                                                                       [90m# hifresh.AddRecipeSteps.iAddRecipeWithName(int,java.lang.String)[0m
ﬁ  [32mAnd [0m[32mI add ingredient [0m[32m[1m500[0m[32m grammes [0m[32m[1m"tomatoes"[0m[32m to recipe [0m[32m[1m5[0m                                                                                                                               [90m# hifresh.AddRecipeSteps.iAddIngredientGrammesToRecipe(int,java.lang.String,int)[0m
ﬁ  [32mAnd [0m[32mI add ingredient [0m[32m[1m250[0m[32m grammes [0m[32m[1m"beef mince"[0m[32m to recipe [0m[32m[1m5[0m                                                                                                                             [90m# hifresh.AddRecipeSteps.iAddIngredientGrammesToRecipe(int,java.lang.String,int)[0m
’  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m5[0m[32m with description [0m[32m[1m"Put a large saucepan on a medium heat and add 1 tbsp olive oil"[0m                                                         [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
’  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m5[0m[32m with description [0m[32m[1m"Increase the heat to medium-high, add the beef mince and cook stirring for 3-4 mins until the meat is browned all over"[0m [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
’  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m5[0m[32m with description [0m[32m[1m"Chop the tomatoes"[0m                                                                                                      [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
’  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m5[0m[32m with description [0m[32m[1m"Add the tomatoes, Cook for a few minutes"[0m                                                                               [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
’  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m5[0m[32m with description [0m[32m[1m"Season with salt and black pepper to taste"[0m                                                                             [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
Î  [32mThen [0m[32mrecipe [0m[32m[1m5[0m[32m should have [0m[32m[1m2[0m[32m ingredients and [0m[32m[1m5[0m[32m preparation steps[0m                                                                                                                       [90m# hifresh.AddRecipeSteps.recipeShouldHaveIngredientsAndPreparationSteps(int,int,int)[0m
∏  [32mAnd [0m[32mpreparation step [0m[32m[1m3[0m[32m is [0m[32m[1m"Chop the tomatoes"[0m                                                                                                                                         [90m# hifresh.AddRecipeSteps.preparationStepIs(int,java.lang.String)[0m
»2023-12-18T22:58:01.784+01:00  INFO 33232 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [hifresh.CucumberIntegrationTest]: CucumberIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
«2023-12-18T22:58:01.788+01:00  INFO 33232 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration hifresh.Main for test class hifresh.CucumberIntegrationTest

∂Scenario: Add recipe with subrecipe                                                                                                         [90m# hifresh/AddRecipe.feature:128[0m
Í  [32mGiven [0m[32mrecipes[0m                                                                                                                             [90m# hifresh.AddRecipeSteps.recipes(io.cucumber.datatable.DataTable)[0m
B    | recipe_id | recipe_name    | recipe_description           |
B    | 1         | pancakes       | Gorgeous pancakes            |
B    | 2         | Pizza          | Deep pan pizza               |
B    | 3         | Cheese Sauce   | Cheesy Sauce                 |
B    | 4         | Bechamel Sauce | Creamy Dreamy Bechamel Sauce |
Ì  [32mGiven [0m[32msubrecipes[0m                                                                                                                          [90m# hifresh.AddRecipeSteps.subrecipes(io.cucumber.datatable.DataTable)[0m
    | recipe_id | subrecipe |
    | 3         | 4         |
Î  [32mGiven [0m[32mproducts[0m                                                                                                                            [90m# hifresh.AddRecipeSteps.products(io.cucumber.datatable.DataTable)[0m
4    | product_id | product_name       | unit      |
4    | 1          | flour              | GRAM      |
4    | 2          | milk               | MILILITRE |
4    | 3          | cheese             | GRAM      |
4    | 4          | self-raising flour | GRAM      |
4    | 5          | tomatoes           | GRAM      |
4    | 6          | beef mince         | GRAM      |
4    | 7          | spaghetti          | GRAM      |
4    | 8          | ham                | GRAM      |
Ó  [32mGiven [0m[32mingredients[0m                                                                                                                         [90m# hifresh.AddRecipeSteps.ingredients(io.cucumber.datatable.DataTable)[0m
F    | ingredient_id | product_id | recipe_id | quantity | unit      |
F    | 1             | 1          | 1         | 100      | GRAM      |
F    | 3             | 3          | 2         | 20       | GRAM      |
F    | 4             | 3          | 3         | 20       | GRAM      |
F    | 5             | 3          | 4         | 40       | GRAM      |
F    | 6             | 2          | 4         | 600      | MILILITRE |
Ë  [32mGiven [0m[32msteps[0m                                                                                                                               [90m# hifresh.AddRecipeSteps.steps(io.cucumber.datatable.DataTable)[0m
O    | step_id | description                              | recipe_id | order |
O    | 1       | step 1                                   | 1         | 1     |
O    | 2       | step 2                                   | 1         | 2     |
O    | 3       | Add the cheese to the bechamel sauce     | 3         | 1     |
O    | 4       | Heat gently for 5 minutes                | 3         | 2     |
O    | 5       | Lookup online how to make bechamel sauce | 4         | 1     |
ˆ  [32mGiven [0m[32mdistributioncentres[0m                                                                                                                 [90m# hifresh.AddRecipeSteps.distributionCenters(io.cucumber.datatable.DataTable)[0m
8    | distributioncentre_id | distributioncentre_name |
8    | 1                     | DC1                     |
8    | 2                     | DC2                     |
Ï  [32mGiven [0m[32mcontracts[0m                                                                                                                           [90m# hifresh.AddRecipeSteps.contracts(io.cucumber.datatable.DataTable)[0m
G    | contract_id | product_id | supplier_id | distributioncentre_id |
G    | 1           | 1          | 1           | 1                     |
G    | 2           | 1          | 2           | 2                     |
G    | 3           | 2          | 1           | 1                     |
G    | 4           | 2          | 2           | 2                     |
G    | 5           | 3          | 1           | 1                     |
G    | 6           | 3          | 2           | 2                     |
Í  [32mGiven [0m[32mclauses[0m                                                                                                                             [90m# hifresh.AddRecipeSteps.clauses(io.cucumber.datatable.DataTable)[0m
^    | clause_id | contract_id | price   | maxQuantity | unit      | start_date | end_date   |
^    | 1         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 2         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 3         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 4         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 5         | 3           | 0.0015  | 100000      | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 6         | 4           | 0.00135 | 80000       | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 7         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 8         | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 9         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 10        | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 11        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 12        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 13        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 14        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 15        | 5           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 16        | 6           | 0.00135 | 100000      | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 17        | 5           | 0.0014  | 80000       | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 18        | 6           | 0.00145 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
ç  [32mWhen [0m[32mI add recipe [0m[32m[1m6[0m[32m with name [0m[32m[1m"Baked spaghetti alla carbonara"[0m                                                                            [90m# hifresh.AddRecipeSteps.iAddRecipeWithName(int,java.lang.String)[0m
≤  [32mAnd [0m[32mI add ingredient [0m[32m[1m200[0m[32m grammes [0m[32m[1m"ham"[0m[32m to recipe [0m[32m[1m6[0m                                                                                        [90m# hifresh.AddRecipeSteps.iAddIngredientGrammesToRecipe(int,java.lang.String,int)[0m
≤  [32mAnd [0m[32mI add ingredient [0m[32m[1m500[0m[32m grammes [0m[32m[1m"spaghettti"[0m[32m to recipe [0m[32m[1m6[0m                                                                                 [90m# hifresh.AddRecipeSteps.iAddIngredientGrammesToRecipe(int,java.lang.String,int)[0m
≤  [32mAnd [0m[32mI add ingredient [0m[32m[1m50[0m[32m grammes [0m[32m[1m"cheese"[0m[32m to recipe [0m[32m[1m6[0m                                                                                      [90m# hifresh.AddRecipeSteps.iAddIngredientGrammesToRecipe(int,java.lang.String,int)[0m
É  [32mAnd [0m[32mI add subrecipe [0m[32m[1m3[0m[32m to recipe [0m[32m[1m6[0m                                                                                                         [90m# hifresh.AddRecipeSteps.iAddSubrecipeToRecipe(int,int)[0m
©  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m6[0m[32m with description [0m[32m[1m"Boil the spaghetti"[0m                                                         [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
¨  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m6[0m[32m with description [0m[32m[1m"Heat the oven to 180√Ç¬∞C"[0m                                                     [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
©  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m6[0m[32m with description [0m[32m[1m"Add the spagghetti to an ovendish and top it with the ham and cheese sauce"[0m [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
©  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m6[0m[32m with description [0m[32m[1m"Grate the cheese and sprinkle it over the spaghetti"[0m                        [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
©  [32mAnd [0m[32mI append a preparation step to recipe [0m[32m[1m6[0m[32m with description [0m[32m[1m"Put in the oven for 10 minutes"[0m                                             [90m# hifresh.AddRecipeSteps.iAppendAPreparationStepToRecipeWithDescription(int,java.lang.String)[0m
Â  [32mThen [0m[32mrecipe [0m[32m[1m6[0m[32m should have [0m[32m[1m3[0m[32m ingredients and [0m[32m[1m5[0m[32m preparation steps and [0m[32m[1m1[0m[32m subrecipe[0m                                                           [90m# hifresh.AddRecipeSteps.recipeShouldHaveIngredientsAndPreparationStepsAndSubrecipe(int,int,int,int)[0m
»2023-12-18T22:58:01.829+01:00  INFO 33232 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [hifresh.CucumberIntegrationTest]: CucumberIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
«2023-12-18T22:58:01.831+01:00  INFO 33232 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration hifresh.Main for test class hifresh.CucumberIntegrationTest

fScenario: Add a step to a recipe                            [90m# hifresh/AddRecipe.feature:146[0m
ö  [32mGiven [0m[32mrecipes[0m                                             [90m# hifresh.AddRecipeSteps.recipes(io.cucumber.datatable.DataTable)[0m
B    | recipe_id | recipe_name    | recipe_description           |
B    | 1         | pancakes       | Gorgeous pancakes            |
B    | 2         | Pizza          | Deep pan pizza               |
B    | 3         | Cheese Sauce   | Cheesy Sauce                 |
B    | 4         | Bechamel Sauce | Creamy Dreamy Bechamel Sauce |
ù  [32mGiven [0m[32msubrecipes[0m                                          [90m# hifresh.AddRecipeSteps.subrecipes(io.cucumber.datatable.DataTable)[0m
    | recipe_id | subrecipe |
    | 3         | 4         |
õ  [32mGiven [0m[32mproducts[0m                                            [90m# hifresh.AddRecipeSteps.products(io.cucumber.datatable.DataTable)[0m
4    | product_id | product_name       | unit      |
4    | 1          | flour              | GRAM      |
4    | 2          | milk               | MILILITRE |
4    | 3          | cheese             | GRAM      |
4    | 4          | self-raising flour | GRAM      |
4    | 5          | tomatoes           | GRAM      |
4    | 6          | beef mince         | GRAM      |
4    | 7          | spaghetti          | GRAM      |
4    | 8          | ham                | GRAM      |
û  [32mGiven [0m[32mingredients[0m                                         [90m# hifresh.AddRecipeSteps.ingredients(io.cucumber.datatable.DataTable)[0m
F    | ingredient_id | product_id | recipe_id | quantity | unit      |
F    | 1             | 1          | 1         | 100      | GRAM      |
F    | 3             | 3          | 2         | 20       | GRAM      |
F    | 4             | 3          | 3         | 20       | GRAM      |
F    | 5             | 3          | 4         | 40       | GRAM      |
F    | 6             | 2          | 4         | 600      | MILILITRE |
ò  [32mGiven [0m[32msteps[0m                                               [90m# hifresh.AddRecipeSteps.steps(io.cucumber.datatable.DataTable)[0m
O    | step_id | description                              | recipe_id | order |
O    | 1       | step 1                                   | 1         | 1     |
O    | 2       | step 2                                   | 1         | 2     |
O    | 3       | Add the cheese to the bechamel sauce     | 3         | 1     |
O    | 4       | Heat gently for 5 minutes                | 3         | 2     |
O    | 5       | Lookup online how to make bechamel sauce | 4         | 1     |
¶  [32mGiven [0m[32mdistributioncentres[0m                                 [90m# hifresh.AddRecipeSteps.distributionCenters(io.cucumber.datatable.DataTable)[0m
8    | distributioncentre_id | distributioncentre_name |
8    | 1                     | DC1                     |
8    | 2                     | DC2                     |
ú  [32mGiven [0m[32mcontracts[0m                                           [90m# hifresh.AddRecipeSteps.contracts(io.cucumber.datatable.DataTable)[0m
G    | contract_id | product_id | supplier_id | distributioncentre_id |
G    | 1           | 1          | 1           | 1                     |
G    | 2           | 1          | 2           | 2                     |
G    | 3           | 2          | 1           | 1                     |
G    | 4           | 2          | 2           | 2                     |
G    | 5           | 3          | 1           | 1                     |
G    | 6           | 3          | 2           | 2                     |
ö  [32mGiven [0m[32mclauses[0m                                             [90m# hifresh.AddRecipeSteps.clauses(io.cucumber.datatable.DataTable)[0m
^    | clause_id | contract_id | price   | maxQuantity | unit      | start_date | end_date   |
^    | 1         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 2         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 3         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 4         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 5         | 3           | 0.0015  | 100000      | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 6         | 4           | 0.00135 | 80000       | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 7         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 8         | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 9         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 10        | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 11        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 12        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 13        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 14        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 15        | 5           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 16        | 6           | 0.00135 | 100000      | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 17        | 5           | 0.0014  | 80000       | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 18        | 6           | 0.00145 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
º  [32mWhen [0m[32mi add a step [0m[32m[1m"Serve hot"[0m[32m to recipe [0m[32m[1m1[0m                 [90m# hifresh.AddRecipeSteps.iAddAStepToRecipe(java.lang.String,int)[0m
û  [32mThen [0m[32mthe recipe has [0m[32m[1m3[0m[32m steps[0m                               [90m# hifresh.AddRecipeSteps.theRecipeHasSteps(int)[0m
Ã  [32mAnd [0m[32mthe last step of recipe [0m[32m[1m1[0m[32m has description [0m[32m[1m"Serve hot"[0m [90m# hifresh.AddRecipeSteps.theLastStepOfRecipeHasDescription(int,java.lang.String)[0m
»2023-12-18T22:58:01.872+01:00  INFO 33232 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [hifresh.CucumberIntegrationTest]: CucumberIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
«2023-12-18T22:58:01.874+01:00  INFO 33232 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration hifresh.Main for test class hifresh.CucumberIntegrationTest

nScenario: Insert a step into a recipe                               [90m# hifresh/AddRecipe.feature:151[0m
¢  [32mGiven [0m[32mrecipes[0m                                                     [90m# hifresh.AddRecipeSteps.recipes(io.cucumber.datatable.DataTable)[0m
B    | recipe_id | recipe_name    | recipe_description           |
B    | 1         | pancakes       | Gorgeous pancakes            |
B    | 2         | Pizza          | Deep pan pizza               |
B    | 3         | Cheese Sauce   | Cheesy Sauce                 |
B    | 4         | Bechamel Sauce | Creamy Dreamy Bechamel Sauce |
•  [32mGiven [0m[32msubrecipes[0m                                                  [90m# hifresh.AddRecipeSteps.subrecipes(io.cucumber.datatable.DataTable)[0m
    | recipe_id | subrecipe |
    | 3         | 4         |
£  [32mGiven [0m[32mproducts[0m                                                    [90m# hifresh.AddRecipeSteps.products(io.cucumber.datatable.DataTable)[0m
4    | product_id | product_name       | unit      |
4    | 1          | flour              | GRAM      |
4    | 2          | milk               | MILILITRE |
4    | 3          | cheese             | GRAM      |
4    | 4          | self-raising flour | GRAM      |
4    | 5          | tomatoes           | GRAM      |
4    | 6          | beef mince         | GRAM      |
4    | 7          | spaghetti          | GRAM      |
4    | 8          | ham                | GRAM      |
¶  [32mGiven [0m[32mingredients[0m                                                 [90m# hifresh.AddRecipeSteps.ingredients(io.cucumber.datatable.DataTable)[0m
F    | ingredient_id | product_id | recipe_id | quantity | unit      |
F    | 1             | 1          | 1         | 100      | GRAM      |
F    | 3             | 3          | 2         | 20       | GRAM      |
F    | 4             | 3          | 3         | 20       | GRAM      |
F    | 5             | 3          | 4         | 40       | GRAM      |
F    | 6             | 2          | 4         | 600      | MILILITRE |
†  [32mGiven [0m[32msteps[0m                                                       [90m# hifresh.AddRecipeSteps.steps(io.cucumber.datatable.DataTable)[0m
O    | step_id | description                              | recipe_id | order |
O    | 1       | step 1                                   | 1         | 1     |
O    | 2       | step 2                                   | 1         | 2     |
O    | 3       | Add the cheese to the bechamel sauce     | 3         | 1     |
O    | 4       | Heat gently for 5 minutes                | 3         | 2     |
O    | 5       | Lookup online how to make bechamel sauce | 4         | 1     |
Æ  [32mGiven [0m[32mdistributioncentres[0m                                         [90m# hifresh.AddRecipeSteps.distributionCenters(io.cucumber.datatable.DataTable)[0m
8    | distributioncentre_id | distributioncentre_name |
8    | 1                     | DC1                     |
8    | 2                     | DC2                     |
§  [32mGiven [0m[32mcontracts[0m                                                   [90m# hifresh.AddRecipeSteps.contracts(io.cucumber.datatable.DataTable)[0m
G    | contract_id | product_id | supplier_id | distributioncentre_id |
G    | 1           | 1          | 1           | 1                     |
G    | 2           | 1          | 2           | 2                     |
G    | 3           | 2          | 1           | 1                     |
G    | 4           | 2          | 2           | 2                     |
G    | 5           | 3          | 1           | 1                     |
G    | 6           | 3          | 2           | 2                     |
¢  [32mGiven [0m[32mclauses[0m                                                     [90m# hifresh.AddRecipeSteps.clauses(io.cucumber.datatable.DataTable)[0m
^    | clause_id | contract_id | price   | maxQuantity | unit      | start_date | end_date   |
^    | 1         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 2         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 3         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 4         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 5         | 3           | 0.0015  | 100000      | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 6         | 4           | 0.00135 | 80000       | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 7         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 8         | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 9         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 10        | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 11        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 12        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 13        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 14        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 15        | 5           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 16        | 6           | 0.00135 | 100000      | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 17        | 5           | 0.0014  | 80000       | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 18        | 6           | 0.00145 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
Ë  [32mWhen [0m[32mI add a step  [0m[32m[1m"Grate the cheese"[0m[32m to recipe [0m[32m[1m3[0m[32m before step [0m[32m[1m1[0m   [90m# hifresh.AddRecipeSteps.iAddAStepToRecipeBeforeStep(java.lang.String,int,int)[0m
¶  [32mThen [0m[32mthe recipe has [0m[32m[1m3[0m[32m steps[0m                                       [90m# hifresh.AddRecipeSteps.theRecipeHasSteps(int)[0m
‹  [32mAnd [0m[32mstep [0m[32m[1m1[0m[32m for recipe [0m[32m[1m3[0m[32m is [0m[32m[1m"Grate the cheese"[0m                     [90m# hifresh.AddRecipeSteps.stepForRecipeIs(int,int,java.lang.String)[0m
‹  [32mAnd [0m[32mstep [0m[32m[1m2[0m[32m for recipe [0m[32m[1m3[0m[32m is [0m[32m[1m"Add the cheese to the bechamel sauce"[0m [90m# hifresh.AddRecipeSteps.stepForRecipeIs(int,int,java.lang.String)[0m
‹  [32mAnd [0m[32mstep [0m[32m[1m3[0m[32m for recipe [0m[32m[1m3[0m[32m is [0m[32m[1m"Heat gently for 5 minutes"[0m            [90m# hifresh.AddRecipeSteps.stepForRecipeIs(int,int,java.lang.String)[0m
»2023-12-18T22:58:01.903+01:00  INFO 33232 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [hifresh.CucumberIntegrationTest]: CucumberIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
«2023-12-18T22:58:01.905+01:00  INFO 33232 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration hifresh.Main for test class hifresh.CucumberIntegrationTest

êScenario: Calculate price of a recipe on a given date  #DONE see calculaterecipecost.xslx [90m# hifresh/CalculateCostOfARecipe.feature:80[0m
∏  [32mGiven [0m[32mrecipes[0m                                                                           [90m# hifresh.AddRecipeSteps.recipes(io.cucumber.datatable.DataTable)[0m
B    | recipe_id | recipe_name    | recipe_description           |
B    | 1         | pancakes       | Gorgeous pancakes            |
B    | 2         | Pizza          | Deep pan pizza               |
B    | 3         | Cheese Sauce   | Cheesy Sauce                 |
B    | 4         | Bechamel Sauce | Creamy Dreamy Bechamel Sauce |
ª  [32mGiven [0m[32msubrecipes[0m                                                                        [90m# hifresh.AddRecipeSteps.subrecipes(io.cucumber.datatable.DataTable)[0m
    | recipe_id | subrecipe |
    | 3         | 4         |
π  [32mGiven [0m[32mproducts[0m                                                                          [90m# hifresh.AddRecipeSteps.products(io.cucumber.datatable.DataTable)[0m
4    | product_id | product_name       | unit      |
4    | 1          | flour              | GRAM      |
4    | 2          | milk               | MILILITRE |
4    | 3          | cheese             | GRAM      |
4    | 4          | self-raising flour | GRAM      |
º  [32mGiven [0m[32mingredients[0m                                                                       [90m# hifresh.AddRecipeSteps.ingredients(io.cucumber.datatable.DataTable)[0m
F    | ingredient_id | product_id | recipe_id | quantity | unit      |
F    | 1             | 1          | 1         | 100      | GRAM      |
F    | 3             | 3          | 2         | 20       | GRAM      |
F    | 4             | 3          | 3         | 20       | GRAM      |
F    | 5             | 1          | 4         | 40       | GRAM      |
F    | 6             | 2          | 4         | 600      | MILILITRE |
∂  [32mGiven [0m[32msteps[0m                                                                             [90m# hifresh.AddRecipeSteps.steps(io.cucumber.datatable.DataTable)[0m
O    | step_id | description                              | recipe_id | order |
O    | 1       | step 1                                   | 1         | 1     |
O    | 2       | step 2                                   | 1         | 2     |
O    | 3       | Add the cheese to the bechamel sauce     | 3         | 1     |
O    | 4       | Heat gently for 5 minutes                | 3         | 2     |
O    | 5       | Lookup online how to make bechamel sauce | 4         | 1     |
ƒ  [32mGiven [0m[32mdistributioncentres[0m                                                               [90m# hifresh.AddRecipeSteps.distributionCenters(io.cucumber.datatable.DataTable)[0m
8    | distributioncentre_id | distributioncentre_name |
8    | 1                     | DC1                     |
8    | 2                     | DC2                     |
∫  [32mGiven [0m[32mcontracts[0m                                                                         [90m# hifresh.AddRecipeSteps.contracts(io.cucumber.datatable.DataTable)[0m
G    | contract_id | product_id | supplier_id | distributioncentre_id |
G    | 1           | 1          | 1           | 1                     |
G    | 2           | 1          | 2           | 2                     |
G    | 3           | 2          | 1           | 1                     |
G    | 4           | 2          | 2           | 2                     |
G    | 5           | 3          | 1           | 1                     |
G    | 6           | 3          | 2           | 2                     |
∏  [32mGiven [0m[32mclauses[0m                                                                           [90m# hifresh.AddRecipeSteps.clauses(io.cucumber.datatable.DataTable)[0m
^    | clause_id | contract_id | price   | maxQuantity | unit      | start_date | end_date   |
^    | 1         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 2         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 3         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 4         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 5         | 3           | 0.0015  | 100000      | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 6         | 4           | 0.00135 | 80000       | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 7         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 8         | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 9         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 10        | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 11        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 12        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 13        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 14        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 15        | 5           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 16        | 6           | 0.00135 | 100000      | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 17        | 5           | 0.0014  | 80000       | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 18        | 6           | 0.00145 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
Ï  [32mGiven [0m[32mthe date is [0m[32m[1m2024[0m[32m-[0m[32m[1m03[0m[32m-[0m[32m[1m15[0m                                                            [90m# hifresh.CalculateCostOfARecipeSteps.theDateIs(int,int,int)[0m
‰  [32mThen [0m[32mthe average cost of recipe [0m[32m[1m4[0m[32m is [0m[32m[1m0.912[0m                                              [90m# hifresh.CalculateCostOfARecipeSteps.theAverageCostOfRecipeIs(int,double)[0m
»2023-12-18T22:58:01.933+01:00  INFO 33232 --- [    Test worker] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [hifresh.CucumberIntegrationTest]: CucumberIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
«2023-12-18T22:58:01.937+01:00  INFO 33232 --- [    Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration hifresh.Main for test class hifresh.CucumberIntegrationTest

∂Scenario: Calculate the price of a recipe with a subrecipe on a given date # MVP: suppose subrecipe is of exact quantity needed [90m# hifresh/CalculateCostOfARecipe.feature:84[0m
ﬁ  [32mGiven [0m[32mrecipes[0m                                                                                                                 [90m# hifresh.AddRecipeSteps.recipes(io.cucumber.datatable.DataTable)[0m
B    | recipe_id | recipe_name    | recipe_description           |
B    | 1         | pancakes       | Gorgeous pancakes            |
B    | 2         | Pizza          | Deep pan pizza               |
B    | 3         | Cheese Sauce   | Cheesy Sauce                 |
B    | 4         | Bechamel Sauce | Creamy Dreamy Bechamel Sauce |
·  [32mGiven [0m[32msubrecipes[0m                                                                                                              [90m# hifresh.AddRecipeSteps.subrecipes(io.cucumber.datatable.DataTable)[0m
    | recipe_id | subrecipe |
    | 3         | 4         |
ﬂ  [32mGiven [0m[32mproducts[0m                                                                                                                [90m# hifresh.AddRecipeSteps.products(io.cucumber.datatable.DataTable)[0m
4    | product_id | product_name       | unit      |
4    | 1          | flour              | GRAM      |
4    | 2          | milk               | MILILITRE |
4    | 3          | cheese             | GRAM      |
4    | 4          | self-raising flour | GRAM      |
‚  [32mGiven [0m[32mingredients[0m                                                                                                             [90m# hifresh.AddRecipeSteps.ingredients(io.cucumber.datatable.DataTable)[0m
F    | ingredient_id | product_id | recipe_id | quantity | unit      |
F    | 1             | 1          | 1         | 100      | GRAM      |
F    | 3             | 3          | 2         | 20       | GRAM      |
F    | 4             | 3          | 3         | 20       | GRAM      |
F    | 5             | 1          | 4         | 40       | GRAM      |
F    | 6             | 2          | 4         | 600      | MILILITRE |
‹  [32mGiven [0m[32msteps[0m                                                                                                                   [90m# hifresh.AddRecipeSteps.steps(io.cucumber.datatable.DataTable)[0m
O    | step_id | description                              | recipe_id | order |
O    | 1       | step 1                                   | 1         | 1     |
O    | 2       | step 2                                   | 1         | 2     |
O    | 3       | Add the cheese to the bechamel sauce     | 3         | 1     |
O    | 4       | Heat gently for 5 minutes                | 3         | 2     |
O    | 5       | Lookup online how to make bechamel sauce | 4         | 1     |
Í  [32mGiven [0m[32mdistributioncentres[0m                                                                                                     [90m# hifresh.AddRecipeSteps.distributionCenters(io.cucumber.datatable.DataTable)[0m
8    | distributioncentre_id | distributioncentre_name |
8    | 1                     | DC1                     |
8    | 2                     | DC2                     |
‡  [32mGiven [0m[32mcontracts[0m                                                                                                               [90m# hifresh.AddRecipeSteps.contracts(io.cucumber.datatable.DataTable)[0m
G    | contract_id | product_id | supplier_id | distributioncentre_id |
G    | 1           | 1          | 1           | 1                     |
G    | 2           | 1          | 2           | 2                     |
G    | 3           | 2          | 1           | 1                     |
G    | 4           | 2          | 2           | 2                     |
G    | 5           | 3          | 1           | 1                     |
G    | 6           | 3          | 2           | 2                     |
ﬁ  [32mGiven [0m[32mclauses[0m                                                                                                                 [90m# hifresh.AddRecipeSteps.clauses(io.cucumber.datatable.DataTable)[0m
^    | clause_id | contract_id | price   | maxQuantity | unit      | start_date | end_date   |
^    | 1         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 2         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 3         | 1           | 0.0015  | 100000      | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 4         | 2           | 0.00135 | 80000       | GRAM      | 2024-01-01 | 2024-01-31 |
^    | 5         | 3           | 0.0015  | 100000      | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 6         | 4           | 0.00135 | 80000       | MILILITRE | 2024-01-01 | 2024-01-31 |
^    | 7         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 8         | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 9         | 1           | 0.0015  | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 10        | 2           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 11        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 12        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 13        | 3           | 0.0015  | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 14        | 4           | 0.00135 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 15        | 5           | 0.00135 | 100000      | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 16        | 6           | 0.00135 | 100000      | MILILITRE | 2024-03-01 | 2024-03-31 |
^    | 17        | 5           | 0.0014  | 80000       | GRAM      | 2024-03-01 | 2024-03-31 |
^    | 18        | 6           | 0.00145 | 80000       | MILILITRE | 2024-03-01 | 2024-03-31 |
í  [32mGiven [0m[32mthe date is [0m[32m[1m2024[0m[32m-[0m[32m[1m03[0m[32m-[0m[32m[1m15[0m                                                                                                  [90m# hifresh.CalculateCostOfARecipeSteps.theDateIs(int,int,int)[0m
ä  [32mThen [0m[32mthe average cost of recipe [0m[32m[1m3[0m[32m is [0m[32m[1m0.9396667[0m                                                                                [90m# hifresh.CalculateCostOfARecipeSteps.theAverageCostOfRecipeIs(int,double)[0m
